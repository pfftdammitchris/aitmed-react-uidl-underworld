(this["webpackJsonpaitmed-react-uidl-underworld"]=this["webpackJsonpaitmed-react-uidl-underworld"]||[]).push([[0],{153:function(e,t,n){e.exports=n(211)},211:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(22),i=n.n(o),c=n(139),r=n(52),s=n(45),u=n(46);function d(){var e=Object(s.a)(["\n  body {\n    /* background: rgba(11, 12, 14, 0.8); */\n    background-image: linear-gradient(72deg, #eef6fb, #fff);\n    margin: 0;\n    padding: 25px;\n    overflow-x: hidden;\n    box-sizing: border-box;\n    font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-weight: 500;\n  }\n\n  code, textarea {\n    font-family: Consolas !important;\n  }\n\n  button:hover {\n    opacity: 0.8;\n  }\n\n  .modal {\n    width: 100%;\n    height: 100%;\n    outline: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .modal-body {\n    /* max-height: 500px; */\n    background: red;\n  }\n\n\n  /* .modal; */\n\n  input::placeholder {\n    opacity: 0.6;\n  }\n"]);return d=function(){return e},e}var v=Object(u.a)(d()),p=n(25),m=n(15),g=n(28),b=n(121),f=n(239),h=n(138),y=n.n(h),O=n(243),j=n(240),E=n(244);function w(){var e=Object(s.a)(["\n  textarea {\n    color: rgba(0, 0, 0, 0.8);\n    font-size: 13px;\n  }\n  .input {\n    color: #333;\n    box-shadow: 1px 1px 10px rgba(25, 37, 45, 0.15);\n  }\n  .label {\n    color: rgba(0, 0, 0, 0.7);\n  }\n  .notchedOutline {\n    /* border-color: #37506c; */\n  }\n"]);return w=function(){return e},e}var x=u.b.div(w());var P=function(e){return l.a.createElement(x,null,l.a.createElement(E.a,Object.assign({name:"page",rows:15,rowsMax:30,label:"Editor",InputLabelProps:{classes:{root:"label"}},variant:"outlined",color:"secondary",spellCheck:!1,InputProps:{classes:{root:"input",notchedOutline:"notchedOutline"}},margin:"normal",multiline:!0,fullWidth:!0},e)))};function S(){var e=Object(s.a)(["\n  color: rgba(0, 0, 0, 0.5);\n  text-align: center;\n  width: 100%;\n  display: block;\n  .sublabel {\n    display: block;\n    text-align: inherit;\n  }\n"]);return S=function(){return e},e}function k(){var e=Object(s.a)(["\n  padding: 10px 12px;\n  /* border: 1px solid red; */\n  overflow: hidden;\n"]);return k=function(){return e},e}var C=Object(u.b)(f.a)(k()),I=Object(u.b)(j.a)(S());function D(e){var t=e.label,n=e.sublabel;return n?l.a.createElement(I,{variant:"h6"},l.a.createElement(j.a,{variant:"button"},t),l.a.createElement(j.a,{className:"sublabel",variant:"caption"},n)):t?l.a.createElement(I,{variant:"button"},t):null}var z=function(e){var t=e.label,n=e.sublabel,a=e.children,o=Object(g.a)(e,["label","sublabel","children"]);return l.a.createElement(C,o,l.a.createElement(D,{label:t,sublabel:n}),a&&l.a.createElement(j.a,{component:"div"},a))},Y=n(245),V=n(242),U=n(241),_=n(122),B=n.n(_),F=n(123),L=n.n(F),N=n(124),A=n.n(N),J=n(125),M=n.n(J),R=n(126),W=n.n(R),H=n(127),T=n.n(H),G=n(128),X=n.n(G),$=n(129),q=n.n($),K=n(130),Q=n.n(K),Z=n(131),ee=n.n(Z),te=n(132),ne=n.n(te);function ae(){var e=Object(s.a)(["\n  margin: auto;\n  flex-wrap: wrap;\n"]);return ae=function(){return e},e}var le=Object(u.b)(U.a)(ae());function oe(e){var t=e.children,n=Object(g.a)(e,["children"]);return l.a.createElement(Y.a,Object.assign({disabled:!0},n),t)}var ie=function(e){return l.a.createElement(V.a,{position:"sticky",color:"transparent",elevation:0},l.a.createElement(le,null,l.a.createElement(oe,null,l.a.createElement(B.a,null)),l.a.createElement(oe,null,l.a.createElement(L.a,null)),l.a.createElement(oe,null,l.a.createElement(A.a,null)),l.a.createElement(oe,null,l.a.createElement(M.a,null)),l.a.createElement(oe,null,l.a.createElement(W.a,null)),l.a.createElement(oe,null,l.a.createElement(T.a,null)),l.a.createElement(oe,null,l.a.createElement(X.a,null)),l.a.createElement(oe,null,l.a.createElement(q.a,null)),l.a.createElement(oe,null,l.a.createElement(Q.a,null)),l.a.createElement(oe,null,l.a.createElement(ee.a,null)),l.a.createElement(oe,null,l.a.createElement(ne.a,null))))},ce=n(141);function re(e,t,n){var a,l=["%c".concat(e)];if(e&&"object"===typeof e){var o=e;l=["%c".concat(o.msg)];var i="font-weight:bold;";o.color&&(i+="color:".concat(o.color,";")),l.push(i),o.data&&l.push(o.data)}else{if(t)if("string"===typeof t)l.push(t);else{var c="font-weight:bold;";t.color&&(c+="color:".concat(t.color,";")),l.push(c)}n&&l.push(n)}(a=console.log).bind.apply(a,[window.console].concat(Object(ce.a)(l)))}var se=n(5),ue=n.n(se),de=n(61);n(93);var ve=function(e){e.type;var t,n,a,o,i=e.style,c=(e.componentId,e.children),r=e.src,s=e.uidl,u=Object(g.a)(e,["type","style","componentId","children","src","uidl"]),d=Object(m.a)({outline:"none",cursor:"pointer",fontSize:null===s||void 0===s||null===(t=s.css.base)||void 0===t?void 0:t.fontSize,borderStyle:null===s||void 0===s||null===(n=s.css.button)||void 0===n?void 0:n.borderStyle,backgroundColor:null===s||void 0===s||null===(a=s.css)||void 0===a||null===(o=a.base)||void 0===o?void 0:o.backgroundColor},i,{},{});return l.a.createElement("button",Object.assign({type:"button",style:d},u),c," ",r&&l.a.createElement("img",{src:r,alt:"'",style:{width:"35%",height:"35%"}}))};var pe=function(e){var t,n,a,o=e.children,i=(e.type,e.style),c=e.src,r=(e.componentId,e.uidl),s=Object(g.a)(e,["children","type","style","src","componentId","uidl"]);o&&re({msg:"Image has children",color:"#c33a0b",data:o});var u,d=Object(m.a)({},null===r||void 0===r||null===(t=r.css)||void 0===t?void 0:t.image,{},i,{},{});return o?((null===(n=o.props)||void 0===n||null===(a=n.uidl)||void 0===a?void 0:a.component)&&(u=null===r||void 0===r?void 0:r.parseComponent(o.props.uidl.component)),l.a.createElement("div",{style:Object(m.a)({},d,{position:"relative"})},l.a.createElement("img",Object.assign({src:c,title:c,alt:"",style:{border:"1px solid red",width:"100%",height:"100%"}},s)),u)):l.a.createElement("img",Object.assign({src:c,alt:"",style:d},s))};var me=function(e){var t,n,a=e.type,o=void 0===a?"":a,i=e.style,c=e.componentId,r=e.inputType,s=void 0===r?"text":r,u=e.children,d=e.uidl,v=e.onChange,b=Object(g.a)(e,["type","style","componentId","inputType","children","uidl","onChange"]),f=l.a.useState("string"===typeof u?u:""),h=Object(p.a)(f,2),y=h[0],O=h[1],j={type:s,style:Object(m.a)({},null===d||void 0===d||null===(t=d.css)||void 0===t?void 0:t.textField,{},i,{},{})};return u&&re({msg:"Input has children. ".concat(c?"Component ID: "+c:""),color:"#c92fb5",data:u}),-1!==o.indexOf(".")&&"date"===(null===(n=o.split("."))||void 0===n?void 0:n[1])&&(j.type="date"),l.a.createElement("input",Object.assign({id:c,value:y,onChange:function(e){var t;"function"===typeof v&&v(e),O(null===(t=e.target)||void 0===t?void 0:t.value)}},b,j))};var ge=function(e){var t,n,a,o,i,c=e.style,r=(e.type,e.componentId,e.children),s=e.uidl,u=Object(g.a)(e,["style","type","componentId","children","uidl"]),d=Object(m.a)({fontSize:null===(t=s.css)||void 0===t||null===(n=t.base)||void 0===n?void 0:n.fontSize,color:null===(a=s.css)||void 0===a||null===(o=a.base)||void 0===o?void 0:o.color},null===(i=s.css)||void 0===i?void 0:i.label,{},c,{},{});return l.a.createElement("div",Object.assign({style:d},u),r)};var be=function(e){var t,n,a,o,i=e.style,c=e.children,r=e.componentId,s=e.uidl,u=Object(m.a)({color:null===s||void 0===s||null===(t=s.css)||void 0===t||null===(n=t.base)||void 0===n?void 0:n.color,fontSize:null===s||void 0===s||null===(a=s.css)||void 0===a||null===(o=a.base)||void 0===o?void 0:o.fontSize},i,{},{});return l.a.createElement("div",{id:r,style:u},Array.isArray(c)&&c.map((function(e,t){return l.a.createElement(l.a.Fragment,{key:"uidlc-".concat(t)},e)})))};var fe=function(e){e.type;var t=e.style,n=(e.componentId,e.uidl,e.selectOptions),a=void 0===n?[]:n,o=Object(g.a)(e,["type","style","componentId","uidl","selectOptions"]),i=l.a.useState(""),c=Object(p.a)(i,2),r=c[0],s=c[1],u=Object(m.a)({},t,{},{});return l.a.createElement("select",Object.assign({style:u,value:r,onChange:function(e){var t;s(null===(t=e.target)||void 0===t?void 0:t.value)}},o),a.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.label)})))},he=n(133),ye=n.n(he),Oe=n(83),je=new(n(134).a)({apiVersion:"v1beta1",env:"development"}),Ee=n(90),we=n.n(Ee),xe={yml:"",parsedYml:{},cache:{}};var Pe=function(e){var t=e.initialValue,n=void 0===t?"":t,a=e.delay,o=void 0===a?50:a,i=(e.pageName,Object(Oe.a)(xe)),c=Object(p.a)(i,2),r=c[0],s=c[1],u=l.a.useState(o),d=Object(p.a)(u,2),v=d[0],g=d[1];function b(e){try{return we.a.parse(e)}catch(t){return console.error(t),e}}return l.a.useEffect((function(){n&&s((function(e){var t=we.a.parse(n);e.yml=n,e.parsedYml=t}))}),[n,s]),Object(m.a)({},r,{delay:v,setDelay:g,setYml:function(e){"string"===typeof e?e!==r.yml&&s((function(t){t.yml=e,t.parsedYml=b(e)})):(e.persist(),e.target.value!==r.yml&&s((function(t){t.yml=e.target.value,t.parsedYml=b(e.target.value)})))}})};function Se(e){return e.map((function(e){return{key:e,value:e,label:e}}))}var ke=function(e){var t=e.name,n=void 0===t?"":t,a=e.pages,o=void 0===a?[]:a,i=(e.navigate,e.onChange,l.a.useState(n)),c=Object(p.a)(i,2),r=c[0],s=c[1];return{selectedPage:r,selectPage:function(e){s("string"===typeof e?e:e.target.value)},selectPageOptions:Se(o)}},Ce={galaxyS5:{label:"Galaxy S5",sizes:{width:360,height:640}},iPhone5:{label:"iPhone 5",sizes:{width:320,height:568}},iPhone6_7_8:{label:"iPhone 6, 7, 8",sizes:{width:375,height:667}},iPhone6_7_8_Plus:{label:"iPhone 6, 7, 8 Plus",sizes:{width:414,height:736}},iPad:{label:"iPad",sizes:{width:768,height:1024}}},Ie=Object.keys(Ce).map((function(e){return{key:e,value:e,label:Ce[e].label}}));var De=function(e){var t=e.initialValue,n=void 0===t?"galaxyS5":t,a=l.a.useState(n),o=Object(p.a)(a,2),i=o[0],c=o[1];return{selectDevice:function(e){"string"===typeof e?c(e):(e.persist(),c(e.target.value))},selectedDevice:i,selectDeviceOptions:Ie}},ze={config:null,baseCss:null,basePage:null,pages:[],initialPageYml:""};var Ye=function(e){var t=e.baseUrl,n=(e.location,e.params,e.navigate),a=e.uidlEndpoint,o=Object(Oe.a)(ze),i=Object(p.a)(o,2),c=i[0],r=i[1],s=De({initialValue:"galaxyS5"}),u=s.selectedDevice,d=s.selectDevice,v=s.selectDeviceOptions,g=ke({name:"1_SignIn",pages:c.pages,navigate:n}),b=g.selectedPage,f=g.selectPage,h=g.selectPageOptions,y=Pe({initialValue:"",pageName:b}),O=y.yml,j=y.parsedYml,E=y.setYml;return l.a.useEffect((function(){function e(){return(e=Object(de.a)(ue.a.mark((function e(){var t,n,l,o,i,c,s,u;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window){e.next=18;break}if(!(t=window.localStorage.getItem("uidl-uw"))){e.next=6;break}t=JSON.parse(t),e.next=10;break;case 6:return e.next=8,je.uidl.getUIDL(a);case 8:t=e.sent,window.localStorage.setItem("uidl-uw",JSON.stringify(t));case 10:return l=(n=t).baseUrl,o=void 0===l?"":l,i=n.page,c=void 0===i?[]:i,e.next=13,je.uidl.getUIDL("".concat(o,"BaseCSS.yml"));case 13:return s=e.sent,e.next=16,je.uidl.getUIDL("".concat(o,"BasePage_en.yml"));case 16:u=e.sent,r((function(e){e.config=t,e.baseCss=s,e.basePage=u,e.pages=c}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.a.useEffect((function(){function e(){return(e=Object(de.a)(ue.a.mark((function e(){var n,a,l,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat((null===(n=c.config)||void 0===n?void 0:n.baseUrl)||t).concat(b,"_en.yml"),e.next=4,ye.a.get(a);case 4:l=e.sent,o=l.data,E(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),window.alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}re({msg:'Fetching uidl page "'.concat(b,'"'),color:"#a80a7a"}),function(){e.apply(this,arguments)}()}),[b]),Object(m.a)({},c,{selectDevice:d,selectedDevice:u,selectDeviceOptions:v,selectPage:f,selectedPage:b,selectPageOptions:h,yml:O,parsedYml:j,setYml:E,onSelectDevice:function(e){d(e)},onSelectPage:function(e){f(e)}})},Ve="".concat("https://public.aitmed.com/alpha/","uidlEndpoint.yml");function Ue(e){var t=e.style,n=Object(g.a)(e,["style"]),a=Object(m.a)({},t,{},"bodyContainer"===n.componentId?{background:"#fff"}:void 0,{},"header"===n.componentId?{background:"#fff"}:void 0);return l.a.createElement(be,Object.assign({style:a},n))}var _e=function(e){var t=e.history,n=e.location,a=e.match,o=l.a.useState(Ce.galaxyS5.sizes.width),i=Object(p.a)(o,2),c=i[0],r=i[1],s=l.a.useState(Ce.galaxyS5.sizes.height),u=Object(p.a)(s,2),d=u[0],v=u[1],m=y()(),g=Object(O.a)(m.breakpoints.only("xl")),h=Ye({baseUrl:"https://public.aitmed.com/alpha/",uidlEndpoint:Ve,location:n,params:null===a||void 0===a?void 0:a.params,navigate:t.push}),E=h.config,w=h.baseCss,x=h.basePage,S=(h.pages,h.selectDevice,h.selectedDevice),k=(h.selectDeviceOptions,h.selectedPage,h.selectPage,h.selectPageOptions,h.initialPageYml,h.yml),C=h.parsedYml,I=h.setYml;return h.onSelectDevice,h.onSelectPage,l.a.useEffect((function(){var e=Ce[S];r(e.sizes.width),v(e.sizes.height)}),[S]),l.a.createElement(f.a,{style:{width:"100%",height:"100%",minHeight:"100vh",overflowX:"hidden"},justify:"center",direction:"iPad"!==S||g?"row":"column",container:!0},l.a.createElement(z,{xs:12,sm:6,md:6,lg:6,xl:5,item:!0},l.a.createElement(j.a,{component:"div",align:"center",variant:"caption",color:"secondary"},c,"px / ",d,"px"),l.a.createElement("div",{style:{margin:"auto",position:"relative",width:c,height:d,border:"2px solid magenta"}},l.a.createElement(b.a,{baseCss:w,basePage:x,page:C,config:E,components:{Button:ve,Image:pe,Input:me,Label:ge,Div:Ue,Select:fe},viewportWidth:c,viewportHeight:d}))),l.a.createElement(z,{style:{paddingLeft:12,paddingRight:12},xs:12,sm:6,md:6,lg:6,xl:5,item:!0},l.a.createElement(ie,null),l.a.createElement(P,{value:k,onChange:I})))},Be=l.a.createContext(void 0),Fe={authenticated:!1,status:null,verification:{code:null,pending:!1,timedOut:!1,error:null},creating:{pending:!1,confirmingPassword:!1}};function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set-authenticated":return Object(m.a)({},e,{authenticated:t.authenticated});case"set-vcode":return Object(m.a)({},e,{verification:Object(m.a)({},e.verification,{code:t.code})});case"set-vcode-in-process":return Object(m.a)({},e,{verification:Object(m.a)({},e.verification,{pending:t.pending,timedOut:!1})});case"set-vcode-timed-out":return Object(m.a)({},e,{verification:Object(m.a)({},e.verification,{timedOut:t.timedOut})});case"set-vcode-error":return Object(m.a)({},e,{verification:Object(m.a)({},e.verification,{error:t.error})});case"set-creating-in-process":return Object(m.a)({},e,{creating:Object(m.a)({},e.creating,{pending:t.creating})});case"set-creating-confirming-password":return Object(m.a)({},e,{creating:Object(m.a)({},e.creating,{confirmingPassword:t.confirming})});default:return e}}var Ne=function(e){var t=e.children,n=l.a.useReducer(Le,Fe),a=Object(p.a)(n,2),o=a[0],i=a[1];l.a.useEffect((function(){var e;!o.authenticated&&(null===(e=o.status)||void 0===e||e.code)}),[o.authenticated,o.status]);var c=Object(m.a)({},o,{setAuthenticated:function(e){i({type:"set-authenticated",authenticated:e})},setCreatingAccount:function(e){i({type:"set-creating-in-process",creating:e})},setConfirmingPassword:function(e){i({type:"set-creating-confirming-password",confirming:e})},setVcode:function(e){i({type:"set-vcode",code:e})},setPendingVCode:function(e){i({type:"set-vcode-in-process",pending:e})},setTimedOutVCode:function(e){i({type:"set-vcode-timed-out",timedOut:e})},setErrorVCode:function(e){i({type:"set-vcode-error",error:e})}});return l.a.createElement(Ae.Provider,{value:c},t)},Ae=l.a.createContext(Fe),Je={modal:{name:"",opened:!1,title:"",subtitle:""},css:null};function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"open-modal":return Object(m.a)({},e,{modal:Object(m.a)({},e.modal,{},t.modal,{opened:!0})});case"close-modal":return Object(m.a)({},e,{modal:Object(m.a)({},e.modal,{},t.modal,{opened:!1})});case"set-css":return Object(m.a)({},e,{css:t.css});default:return e}}var Re=function(e){var t=e.children,n=l.a.useReducer(Me,Je),a=Object(p.a)(n,2),o=a[0],i=a[1],c=l.a.useContext(Ae);l.a.useEffect((function(){var e;c&&!c.authenticated&&(null===(e=c.status)||void 0===e||e.code)}),[c]),l.a.useEffect((function(){re({msg:"AppProviderState:",data:o,color:"olive"})}),[o]);var r=Object(m.a)({},o,{openModal:function(e){i({type:"open-modal",modal:e})},closeModal:function(e){i({type:"close-modal",modal:e})},setCss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i({type:"set-css",css:e})}});return l.a.createElement(Be.Provider,{value:r},t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(Ne,null,l.a.createElement(Re,null,l.a.createElement(c.a,null,l.a.createElement(r.c,null,l.a.createElement(r.a,{path:"/",component:_e,exact:!0}),l.a.createElement(r.a,{path:"/:page",component:_e})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.1d036d16.chunk.js.map